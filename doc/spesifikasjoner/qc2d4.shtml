<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
               "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>

    <!--#include file="header.shtml" -->

<h2>QC2d-4 Statistikk-kontroll </h2>
<p>
Knut Johansen og Lars Andresen 15. april 2002</p>
<h4>
Formål: Å oppdage systematiske feil i en meteorologisk parameter så tidlig 
som mulig. </h4>
<p>Statistikk-kontroller er en samlebetegnelse på forskjellige kontroller der en 
eller annen statistisk parameter for en relativt kort tidsperiode for en stasjon 
benyttes for sammenlikning med en eller flere representative nabostasjoner for 
samme tidsperiode. For alle stasjoner kan det være aktuelt å ”normalisere” 
avvikene seg imellom ut fra en lengre tidsperiode. De forskjellige statistiske 
parametere som benyttes er tilpasset de parametere som skal kontrolleres og 
ulike typer systematiske feil som kan forekomme for aktuell parameter. </p>
<p>Nedenfor skisseres forskjellige kontroller som kan være aktuelt å benytte.<br>
<br>
</p>
<h3>Kvantil-metoden</h3>
<p>
Denne metoden foreslås for kontroll av relativ fuktighet. </p>
<p>Det finnes flere oppdelinger av en datamengde i like grupper, f. eks. 
percentiler, deciler, kvartiler. Vi vil foreslå å starte med kvartiler for å se 
om dette virker tilfredsstillende, dvs. Q1 er ”innslagspunktet” i kurven for 
kumulativ frekvensfordeling for de lavest 25% av data-materialet, Q2 for 
50%(medianen) og Q3 for de høyeste 25% av datamaterialet. </p>
<p>Forutsetninger:<br>
Kvartilene Q1, Q2 og Q3 beregnes for hver måned og stasjon ut fra et 
datamateriale på 10 år (referanseverdier). Beregningene kan for relativ 
fuktighet baseres på en frekvensfordeling på 20 intervaller 
(0.1-5,5.1-10,10.1-15,….,90.1-95,95.1-100). Vha. klimadatavarehuset (KDVH) kan 
man liste ut frekvensfordelingene. Ut fra disse kan man plukke ut kvartilene, 
som legges i tabeller som så leses inn i KVALOBS-databasen (profileDB). <br>
Relativ fuktighet for siste 30 døgn lagres løpende i KVALOBS-databasen. 
Kvartiler beregnes for siste 30 døgn og avvik fra referanseverdiene for aktuell 
stasjon beregnes. Disse avvikene kan så sammenliknes med tilsvarende avvik ved 
et sett referansestasjoner. Referansestasjoner for aktuell stasjon må da kunne 
finnes i en tabell i profileDB. </p>
<h3>Middelverdi-metoden</h3>
<p>
Denne metoden foreslås brukt for kontroll av temperatur. </p>
<p>Forutsetninger:<br>
Ferdigberegnede normalverdier(1961 – 1990) for døgn for hver stasjon ligger 
lagret på KDVH. Disse kan legges ut i en tabell på en fil som så kan legges inn 
i KVALOBS-databasen (profileDB). Temperaturer for siste 30 døgn lagres løpende i 
KVALOBS-databasen. Middelverdi av disse beregnes og sammenliknes med normalverdi 
for 15 dager før aktuell dato. Avvikene mellom middelverdi og normaler 
sammenliknes med tilsvarende avvik fra et sett referansestasjoner. Også her må 
vi kunne finne referansestasjoner for aktuell stasjon i en tabell i profileDB.</p>
<h3>Periodesum-metoden.</h3>
<p>
Denne metoden foreslås brukt for kontroll av nedbør. </p>
<p>Forutsetninger:<br>
Ferdigberegnede normalverdier (1961 – 1990) for hver måned og stasjon finnes på 
KDVH, og kan overføres til profileDB på samme måte som temperaturnormaler. 30 
dagers nedbørsum lagres løpende i KVALOBS-databasen. Denne nedbørsummen 
sammenliknes med aktuell nedbørnormal. Det kan være aktuelt å interpolere i de 
lagrede nedbørnormaler for å finne en verdi for aktuelt døgn. Avvik mellom 
normalverdi og aktuell nedbørsum sammenliknes med tilsvarende avvik for et sett 
referansestasjoner. Vi må altså igjen ha en tabell med referansestasjoner.<br>
</p>
<h3>Parameterverdi-metoden.</h3>
<p>
Denne metoden foreslås brukt for kontroll av vindhastighet. </p>
<p>For manuelle stasjoner beregnes prosent av B=0(vindstille, dvs. &lt;1 knop), B=1 
(1 – 3 knop), B=2 (4 – 6 knop), B&#61619;6 ( &#61619;knop). I praksis er verdiene gitt I m/s ( 
eller konvertert til m/s), og da kan følgende verdier benyttes for alle 
stasjoner: V0&#61603;0.2, V1=0.3 – 1.5, V2=1.6 – 3.3, V3&#61619;10.8. </p>
<p>Forutsetninger:<br>
Det beregnes 10-års gjennomsnittsverdier for hver måned og hver stasjon av V0, … 
,V3 (referanseverdier). Kontrollen forutsetter at frekvens av vindhastigheter 
for siste 30 døgn lagres løpende i KVALOBS-databasen. En tabell med et sett 
referansestasjoner for hver aktuell stasjon tregs også, da kontrollen vil gå ut 
på å sammenlikne avvik mellom aktuell frekvensfordeling og referanseverdier for 
aktuell stasjon med tilsvarende avvik ved referansestasjonene.<br>
</p>
<h3>Konklusjon:</h3>
<p>
En rekke andre parametere bør kontrolleres med QC2d-4-metodikk (som beskrevet 
ovenfor eller som varianter av disse): </p>
<p>Lufttrykk(for eksempel middelverdimetoden), bølgeparametere, sjøgang, samlet 
skydekke, skyhøyde, synsvidde, globalstråling( for eksempel kvantilmetoden), 
m.fl. </p>
<p>Det kan være aktuelt med andre periodelengder enn 30 døgn. </p>
<p>For stasjoner med mindre enn 10 år med data benyttes den datarekke man har i 
kombinasjon med lengre serier fra representative nabostasjoner. </p>
<p>De ulike kontrollene legges inn etter hvert i prioritert rekkefølge og 
justeres/tilpasses når man har tilstrekkelig erfaring med bruk av metodene. En 
må derfor regne med et ikke ubetydelig vedlikeholdsarbeid av flere av 
kontrollmetodene. </p>
<p>Før kontrollene kan begynne må man ha på plass tabeller med 
referansestasjoner for hver stasjon og hver værelement som skal kontrolleres. 
Selve utvelgelsen av referansestasjoner må gjøres av en erfaren meteorolog. </p>
<p>En slik tabell kan ha følgende format: </p>
<table width="100%" border=1 cellpadding="0" cellspacing="0">
<tr><td>Stasjon</td><td>Værelement</td><td>Ref.stasj. 1</td><td>Ref.stasj. 2</td><td>
Ref.stasj. 3</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<br>
<br>
</p>
<p><br>
Videre må følgende tabeller på plass: </p>
<p>For relativ fuktighet og andre parametere hvor kvantilmetoden foreslås 
benyttet: </p>
<p>Kvartilpunktene Q1, Q2, Q3 for hver måned og stasjon.<br>
KDVH har mulighet for utlisting av frekvensfordelinger, men dette medfører et 
betydelig manuelt arbeide med å krysse av alle stasjonene man vil ha listet ut, 
og deretter plukke ut kvantilene fra frekvensfordelingene. Det kan derfor 
kanskje være hensiktsmessig å lage et pro*C-program som tar for seg alle 
stasjonene i en loop og lister ut kvantilene direkte i en tabell med følgende 
format: </p>
<table width="100%" border=1 cellpadding="0" cellspacing="0">
<tr><td>Stasjon</td><td>Værelement</td><td>Måned</td><td>Q1 </td><td>Q2 </td><td>Q3</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<br>
</p>
<p>For temperatur og andre parametere hvor middelverdimetoden foreslås benyttet:
</p>
<p>For temperatur ligger døgnnormalene lagret på KDVH. Også her synes det mest 
hensiktsmessig å la et pro*C-program hente ut alle normalene for alle stasjoner 
og å legge dem i en tabell. For lufttrykk kan programmet hente observasjonene og 
beregne døgnmidler på grunnlag av 10 års datamateriale.<br>
Tabellen kan ha følgende format: </p>
<table width="100%" border=1 cellpadding="0" cellspacing="0">
<tr><td>Stasjon </td><td>Værelement </td><td>Måned </td><td>Dag </td><td>Normalverdi</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<br>
<br>
<br>
</p>
<p>For nedbør kan månedsnormalene hentes vha et pro*C-program fra KDVH eller 
klimadatabasen og legges i en tabell med format: </p>
<table width="100%" border=1 cellpadding="0" cellspacing="0">
<tr><td>Stasjon </td><td>Værelement </td><td>Måned </td><td>Normalverdi</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<br>
<br>
<br>
</p>
<p>For vindhastighet lages et program som leser observasjoner for alle stasjoner 
i en 10-års periode og beregner månedsvis frekvensfordeling som beskrevet 
ovenfor.<br>
<br>
<br>
</p>
<p>En hensiktsmessig måte å implementere algoritmene for disse kontrollene kan 
være i form av Perl-moduler på samme måte som for QC1-1 og QC1-3.</p>
   <!--#include file="footer.shtml" -->


<!-- Created: Fri Aug 30 14:03:08 GMT 2002 -->
<!-- hhmts start -->
Last modified: Mon Oct 21 09:03:08 GMT 2002
    </table>
<!-- hhmts end -->
</html>